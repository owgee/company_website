<html>
    <body>
	<script src="http://localhost:3000/socket.io/socket.io.js"></script>
	<script src="http://localhost/inetswebsite/media/js/jquery-1.11.0.min.js"></script>

	<script  type="text/javascript" charset="utf-8">
	    //we create a socket object here
	    var socket = io.connect('http://localhost:3000');

	    //define entrace method fired with emit in server.js file

	    socket.on('entrace', function (data) {
		$('h4').append('<p>' + data.message + '</p>');
	    });

	    //we fire message to a user when someone exit the chat
	    socket.on('exit', function (data) {
		$('#leave').append('<p>' + data.message + '</p>');
	    });

	    //chat messages load here
	    socket.on('chat', function (data) {
		//we here detect a message come, if it has the ID of the cookie, then we show it
		//otherwise we hide this
		if (data.id == '2') {
		    $('#message_list').append('<p>' + data.message + '</p>');
		}
	    });
	    _chat = function () {
		$('#send').click(function () {
		    var message = $('#chat_area').val();
		    //you should here send a message, chatter ID, and destination ID here
		    var id = 2; //we will later get this ID from cookie
		    socket.emit('chat', {message: message, id: id});
		    $('#chat_area').val('');
		});
	    }
	    $(document).ready(_chat);

	</script>
	<h4></h4>
	<p id="leave"></p>
	<ul>
	    <li id="message_list"></li>
	</ul>
	<div>
	    <textarea id="chat_area"></textarea>
	    <button id="send">Send</button>
	</div>
    </body>
</html>